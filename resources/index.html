<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="james.ramm@jbarisk.com">
        <title>MapThing</title>


        <link href='vendors/Leaflet/leaflet.css' rel='stylesheet' />
        <link href="vendors/PruneCluster/LeafletStyleSheet.css" rel='stylesheet' />
        <link href='vendors/L.Loading/Control.Loading.css' rel='stylesheet' />
        <link href='vendors/bootstrap/css/bootstrap.css' rel='stylesheet' />
        <link href='vendors/bootstrap-modal/css/bootstrap-modal-bs3patch.css' rel='stylesheet' />
        <link href='vendors/bootstrap-modal/css/bootstrap-modal.css' rel='stylesheet' />
        <link href="vendors/bootstrap-tour/css/bootstrap-tour.min.css" rel="stylesheet">
        <link href='vendors/css/bootstrap-select.min.css' rel='stylesheet' />
        <link href='vendors/css/leaflet-sidebar.css' rel='stylesheet' />
        <link href="vendors/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="vendors/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">
        <link href='mapthing/css/leaflet-legendcontrol.css' rel='stylesheet' />
        <link href='mapthing/css/leaflet-search.src.css' rel='stylesheet' />
        <link href='mapthing/dist/mapthing.min.css' rel='stylesheet' />
    </head>
    <body>
    
    <!--Main Window-->
     <div id="container">

      <!-- The sidebar -->
      <div id="sidebar" class="sidebar collapsed">
        <!-- Navigation tabs -->
        <div class="sidebar-tabs">
            <ul role="tablist" class="sidebar-tabs-top">
                <li ><a id="sb-btn-layers" href="#sb-layers" role="tab" data-placement="right" data-toggle="tooltip" title="Map layers"><i class="mt-icon mt-layers"></i></a></li>
                <li id="sb-btn-overlays"><a href="#sb-overlays" role="tab" data-placement="right" data-toggle="tooltip" title="Add overlay from a WMS"><i class="fa fa-globe"></i></a></li>
                <!--<li id="sb-btn-file"><a href="#sb-file" role="tab" data-placement="right" data-toggle="tooltip" title="Load file"><i class="fa fa-folder-open"></i></a></li>-->
                <!--<li><a href="#sb-database" role="tab" data-placement="right" data-toggle="tooltip" title="Connect to a Jcalf database"><i class="fa fa-database""></i></a></li>-->
                <li id="sb-btn-plugin"><a href="#sb-plugin" role="tab" data-placement="right" data-toggle="tooltip" title="Plugins"><i class="fa fa-plug"></i></a></li>
                <li id="sb-btn-print"><a href="#sb-print" role="tab" data-placement="right" data-toggle="tooltip" title="Print"><i class="fa fa-print"></i></a></li>
                <li id="sb-btn-help"><a href="#sb-help" role="tab" data-placement="right" data-toggle="tooltip" title="Help & interactive tour"><i class="fa fa-question"></i></a></li>

            </ul>
            <ul role="tablist">
                <li><a href="#sb-about" role="tab"><i class="mt-icon mt-jbarml"></i></a></li>
            </ul>
        </div>

        <div class="sidebar-content">
            <div class="sidebar-pane" id="sb-layers">
              <h1 class="sidebar-header">Layers<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
            </div>

            <div class="sidebar-pane" id="sb-overlays">
                <h1 class="sidebar-header">WMS Layers<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
                <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <form role="form" class="wms-form">
                            <div class="form-group">
                                <label for="wms-host-select">WMS Host</label>
                                <select class="selectpicker form-control" id="wms-host-select" title="Choose WMS service" data-placement="bottom" data-toggle="tooltip" title="Select a WMS service to browse layers">
                                    <option data-hidden="true">Select a host...</option>
                                    <option value="http://10.1.4.51:8001/geoserver/floodmaps/wms">JBA Risk Management WMS</option>
                                    <option value="http://www.geostore.com/OGC/OGCInterface?UID=UDATAGOV2011&PASSWORD=datagov2011&INTERFACE=ENVIRONMENT&LC=0">Environment Agency</option>
                                    <option value="http://hazards.fema.gov/gis/nfhl/services/public/NFHLWMS/MapServer/WMSServer">FEMA</option>
                                </select>
                            </div>
                            <div class="form-group" style="width: 100%">
                                <label for="wms-layer-select">Layer</label>
                                <select class="selectpicker form-control" data-width="100%" data-live-search="true" id="wms-layer-select" data-placement="bottom" data-toggle="tooltip" title="Select a layer to add to the map">
                                </select>
                            </div>
                            <button type="button" class="btn btn-default" id="overlay-submit" data-placement="bottom" data-toggle="tooltip" title="Add the selected WMS layer as an overlay on the map">Add Layer</button>
                        </form>
                    </div>
                </div>
            </div>

<!--
            <div class="sidebar-pane" id="sb-file">
                <h1 class="sidebar-header">Load CSV<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
                <div class="row">
                  <div class="col-xs-12 col-md-12">
                    <form role="form" class="csv-form">
                        <div class="form-group">
                          <label for="open-file">Load file</label>
                          <div class="input-group">
                              <span class="input-group-btn"><button type="button" class="btn btn-default" id="open-file">Browse...</button></span>
                              <span class="form-control" id="file-path"></span>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="file-format">Format</label>
                          <select class="form-control" id="file-format">
                              <option>JCalf Portfolio</option>
                              <option>Lat Long only</option>
                          </select>
                        </div>
                        <button type="button" class="btn btn-default" id="csv-submit">Submit</button>
                      </form>
                  </div>
                </div>
            </div>
-->

            <div class="sidebar-pane" id="sb-database">
              <h1 class="sidebar-header">Jcalf Database<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <form role="form" class="db-form">
                      <div class="form-group">
                        <label for="host">Host</label>
                        <input type="input" class="form-control" id="host">
                      </div>
                      <div class="form-group">
                        <label for="port">Port</label>
                        <input type="input" class="form-control" id="port">
                      </div>
                      <div class="form-group">
                        <label for="user">User</label>
                        <input type="input" class="form-control" id="user">
                      </div>
                      <div class="form-group">
                        <label for="pwd">Password</label>
                        <input type="password" class="form-control" id="pwd">
                      </div>

                      <button type="button" class="btn btn-default" id="db-submit">Submit</button>
                    </form>
                </div>
              </div>
            </div>

            <div class="sidebar-pane" id="sb-plugin">
              <h1 class="sidebar-header" id="sb-plugin-header">Extensions<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
              <div id="sb-plugin-area" class="row">
              </div>
            </div>
            <div class="sidebar-pane" id="sb-print">
              <h1 class="sidebar-header">Print<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <form role="form" class="csv-form">
                      <div class="form-group">
                        <label for="choose-file">Output file</label>
                        <div class="input-group">
                            <span class="input-group-btn"><button type="button" class="btn btn-default" id="choose-file">Browse...</button></span>
                            <span class="form-control" id="choose-file-path"></span>
                        </div>
                      </div>
                      <button type="button" class="btn btn-default" id="print-submit">Submit</button>
                    </form>
                </div>
              </div>

            </div>

            <div class="sidebar-pane" id="sb-help">
              <h1 class="sidebar-header" id="sb-help-header">Extensions<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
              <div class="row">
                <div class="col-xs-12 col-md-12">
                <button type="button" class="btn btn-default" id="tour-btn">Tour</button>
                <button type="button" class="btn btn-default" id="docs-btn">Docs</button>
                </div>
              </div>
            </div>

            <div class="sidebar-pane" id="sb-about">
              <h1 class="sidebar-header">About<div class="sidebar-close"><i class="fa fa-caret-left"></i></div></h1>
              <p>MapThing</p>
              <p>&copy JBA Risk Management Ltd 2015</p>
            </div>

        </div>
      </div>

     <!-- This is where the actual map goes -->
     <div id="map" class="sidebar-map">
     </div>

    <!-- Div for disabling the UI (e.g. when blocking work is happening, such as loading a file) -->
    <div class="overlay"  id="disable-overlay" hidden>
    </div>
    </div>

    <!-- UI libs -->
    <script type="text/javascript" src='vendors/js/handlebars.runtime-v4.0.5.js'></script>
    <script type="text/javascript" src='vendors/js/jquery-1.11.3.min.js'></script>
    <script type="text/javascript" src='vendors/jquery-ui-1.11.4/jquery-ui.min.js'></script>
    <script type="text/javascript" src='vendors/bootstrap/js/bootstrap.js'></script>
    <script type="text/javascript" src="vendors/bootstrap-tour/js/bootstrap-tour.min.js"></script>
    <script type="text/javascript" src='vendors/js/bootbox.min.js'></script>
    <script type="text/javascript" src='vendors/js/bootstrap-select.min.js'></script>
    <script type="text/javascript" src='vendors/jquery-loading-overlay/loadingoverlay.min.js'></script>
    <script type="text/javascript" src='vendors/bootstrap-modal/js/bootstrap-modalmanager.js'></script>
    <script type="text/javascript" src='vendors/bootstrap-modal/js/bootstrap-modal.js'></script>

    <!-- Leaflet & Leaflet UI libs -->
    <script type="text/javascript" src='vendors/Leaflet/leaflet.js'></script>
    <script type="text/javascript" src='vendors/js/leaflet-wms-getlegendgraphic.js'></script>
    <script type="text/javascript" src="vendors/PruneCluster/PruneCluster.min.js"></script>
    <script type="text/javascript" src="vendors/L.Loading/Control.Loading.js"></script>
    <script type="text/javascript" src='vendors/js/leaflet-search.src.js'></script>
    <script type="text/javascript" src='vendors/js/leaflet-sidebar.js'></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3&sensor=false"></script>

    <!-- Chart libs -->
    <script type="text/javascript" src='vendors/plotly/plotly.min.js'></script>

    <!--Always ensure our own JS is loaded last so it has access to the above libs -->
    <script type="text/javascript" src='mapthing/dist/mapthing.min.js'></script>

    <!-- Initialise the UI -->
    <script type="text/javascript">
        $(document).ready(initMap);
    </script>
    </body>
</html>
